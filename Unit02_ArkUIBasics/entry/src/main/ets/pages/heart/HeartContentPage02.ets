@Entry
@Component
struct HeartContentPage02 {
  @State title: string = ''

  aboutToAppear() {
    let params = this.getUIContext().getRouter().getParams() as Record<string, Object>
    if (params) {
      this.title = params['title'] as string
    }
  }

  @State isLoading: boolean = false;
  @State isEnabled: boolean = true;
  @State buttonText: string = 'ç‚¹å‡»æˆ‘';
  @State likeCount: number = 0;
  @State isLiked: boolean = false;
  @State pressTime: number = 0;

  simulateAsyncOperation() {
    this.isLoading = true;
    this.buttonText = 'å¤„ç†ä¸­...';

    // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
    setTimeout(() => {
      this.isLoading = false;
      this.buttonText = 'æ“ä½œå®Œæˆ';

      // 2ç§’åŽæ¢å¤åˆå§‹çŠ¶æ€
      setTimeout(() => {
        this.buttonText = 'ç‚¹å‡»æˆ‘';
      }, 2000);
    }, 3000);
  }

  build() {
    Navigation() {
      Column({ space: 16 }) {
        // åŸºç¡€æŒ‰é’®
        Button('åŸºç¡€æŒ‰é’®')
          .fontSize(16)
          .fontColor(Color.White)
          .backgroundColor(Color.Blue)
          .borderRadius(8)

        // ä¸åŒç±»åž‹çš„æŒ‰é’®
        Button('èƒ¶å›ŠæŒ‰é’®', { type: ButtonType.Capsule })
          .backgroundColor(Color.Green)
          .fontColor(Color.White)

        Button('åœ†å½¢æŒ‰é’®', { type: ButtonType.Circle })
          .backgroundColor(Color.Red)
          .width(50)
          .height(50)

        // è‡ªå®šä¹‰æ ·å¼æŒ‰é’®
        Button('è‡ªå®šä¹‰æŒ‰é’®')
          .width(200)
          .height(40)
          .backgroundColor(Color.Orange)
          .borderRadius(20)
          .border({
            width: 2,
            color: Color.Black,
            style: BorderStyle.Solid
          })
          .shadow({
            radius: 5,
            color: Color.Gray,
            offsetX: 2,
            offsetY: 2
          })

        // çŠ¶æ€æŽ§åˆ¶æŒ‰é’®
        Button(this.buttonText)
          .enabled(this.isEnabled && !this.isLoading)
          .backgroundColor(this.isLoading ? Color.Gray : Color.Blue)
          .fontColor(Color.White)
          .onClick(() => {
            this.simulateAsyncOperation();
          })

        // å¯ç”¨/ç¦ç”¨æŽ§åˆ¶
        Row({ space: 10 }) {
          Button('å¯ç”¨')
            .backgroundColor(Color.Green)
            .onClick(() => {
              this.isEnabled = true;
            })

          Button('ç¦ç”¨')
            .backgroundColor(Color.Red)
            .onClick(() => {
              this.isEnabled = false;
            })
        }

        // çŠ¶æ€æŒ‡ç¤º
        Text(`æŒ‰é’®çŠ¶æ€ï¼š${this.isEnabled ? 'å¯ç”¨' : 'ç¦ç”¨'}`)
          .fontSize(14)
          .fontColor(this.isEnabled ? Color.Green : Color.Red)

        // ç‚¹èµžæŒ‰é’®
        Button() {
          Row({ space: 5 }) {
            Text(this.isLiked ? 'â¤ï¸' : 'ðŸ¤')
              .fontSize(20)
            Text(`${this.likeCount}`)
              .fontSize(16)
              .fontColor(Color.White)
          }
        }
        .backgroundColor(this.isLiked ? Color.Red : Color.Gray)
        .borderRadius(25)
        .padding({
          left: 15,
          right: 15,
          top: 8,
          bottom: 8
        })
        .onClick(() => {
          if (this.isLiked) {
            this.likeCount--;
            this.isLiked = false;
          } else {
            this.likeCount++;
            this.isLiked = true;
          }
        })

        // é•¿æŒ‰æŒ‰é’®
        Button('é•¿æŒ‰æˆ‘è¯•è¯•')
          .backgroundColor(Color.Orange)
          .gesture(
            LongPressGesture({ repeat: true })
              .onAction((event: GestureEvent) => {
                this.pressTime++;
              })
          )
          .onTouch((event: TouchEvent) => {
            if (event.type === TouchType.Up) {
              this.pressTime = 0;
            }
          })

        Text(`é•¿æŒ‰æ—¶é—´ï¼š${this.pressTime}`)
          .fontSize(14)

        // å¤šåŠŸèƒ½æŒ‰é’®ç»„
        Row({ space: 10 }) {
          Button('åˆ†äº«')
            .backgroundColor(Color.Blue)
            .flexGrow(1)
            .onClick(() => {
              console.log('åˆ†äº«åŠŸèƒ½');
            })

          Button('æ”¶è—')
            .backgroundColor(Color.Green)
            .flexGrow(1)
            .onClick(() => {
              console.log('æ”¶è—åŠŸèƒ½');
            })

          Button('è¯„è®º')
            .backgroundColor(Color.Pink)
            .flexGrow(1)
            .onClick(() => {
              console.log('è¯„è®ºåŠŸèƒ½');
            })
        }
        .width('100%')

      }
      .padding(16)
    }
    .title(this.title)
    .titleMode(NavigationTitleMode.Mini)
    .hideBackButton(false)
    .navBarWidth('100%')
    .navBarPosition(NavBarPosition.Start)
  }
}